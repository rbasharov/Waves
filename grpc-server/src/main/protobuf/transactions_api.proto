syntax = "proto3";
package com.wavesplatform.api.grpc;
import "recipient.proto";
import "transaction.proto";
import "google/protobuf/empty.proto";

service TransactionsApi {
    rpc GetTransactions (TransactionsRequest) returns (stream TransactionResponse);
    rpc GetStateChanges (TransactionsRequest) returns (stream ???);
    rpc GetStatuses (TransactionsRequest) returns (stream ???);
    rpc GetUnconfirmed (TransactionsRequest) returns (stream TransactionResponse);

    rpc Sign (SignRequest) returns (SignedTransaction);
    rpc Broadcast (SignedTransaction) returns (SignedTransaction);
}

message TransactionResponse {
    bytes id = 1;
    int64 height = 2;
    SignedTransaction tx = 3;
}

message TransactionsRequest {
    bytes sender = 1;
    Recipient recipient = 2;
    repeated bytes transaction_id = 1;
}

message CalculateFeeResponse {
    bytes asset_id = 1;
    uint64 amount = 2;
}

message SignRequest {
    Transaction transaction = 1;
    bytes signer_public_key = 2;
}
